# iTechSmart HL7 Environment Configuration
# Copy this file to .env and update with your values

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
API_VERSION=v1
API_PREFIX=/api

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL Database
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=itechsmart_hl7
DATABASE_USER=itechsmart
DATABASE_PASSWORD=changeme123_REPLACE_WITH_SECURE_PASSWORD

# Connection Pool Settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30

# Full Database URL (alternative to individual settings)
# DATABASE_URL=postgresql://user:pass@host:5432/dbname

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=changeme123_REPLACE_WITH_SECURE_PASSWORD
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5

# Full Redis URL (alternative to individual settings)
# REDIS_URL=redis://:password@host:6379/0

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
# Secret Keys (MUST be changed in production - minimum 32 characters)
SECRET_KEY=your-secret-key-min-32-chars-CHANGE-IN-PRODUCTION
JWT_SECRET_KEY=your-jwt-secret-min-32-chars-CHANGE-IN-PRODUCTION

# JWT Settings
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600
JWT_REFRESH_EXPIRATION=604800

# Password Policy
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_EXPIRATION_DAYS=90

# Session Settings
SESSION_TIMEOUT=1800
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=1800

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com,https://app.yourdomain.com
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60
RATE_LIMIT_BURST=50

# ============================================================================
# EMR INTEGRATION - EPIC
# ============================================================================
EPIC_ENABLED=true
EPIC_BASE_URL=https://fhir.epic.com
EPIC_CLIENT_ID=your-epic-client-id
EPIC_CLIENT_SECRET=your-epic-client-secret
EPIC_TIMEOUT=30
EPIC_RETRY_ATTEMPTS=3

# ============================================================================
# EMR INTEGRATION - CERNER
# ============================================================================
CERNER_ENABLED=true
CERNER_BASE_URL=https://fhir.cerner.com
CERNER_CLIENT_ID=your-cerner-client-id
CERNER_CLIENT_SECRET=your-cerner-client-secret
CERNER_TIMEOUT=30
CERNER_RETRY_ATTEMPTS=3

# ============================================================================
# EMR INTEGRATION - MEDITECH
# ============================================================================
MEDITECH_ENABLED=true
MEDITECH_BASE_URL=https://api.meditech.com
MEDITECH_API_KEY=your-meditech-api-key
MEDITECH_TIMEOUT=30
MEDITECH_RETRY_ATTEMPTS=3

# ============================================================================
# EMR INTEGRATION - ALLSCRIPTS
# ============================================================================
ALLSCRIPTS_ENABLED=true
ALLSCRIPTS_BASE_URL=https://api.allscripts.com
ALLSCRIPTS_CLIENT_ID=your-allscripts-client-id
ALLSCRIPTS_CLIENT_SECRET=your-allscripts-client-secret
ALLSCRIPTS_TIMEOUT=30
ALLSCRIPTS_RETRY_ATTEMPTS=3

# ============================================================================
# WEBSOCKET CONFIGURATION
# ============================================================================
WS_HEARTBEAT_INTERVAL=30
WS_MAX_CONNECTIONS=1000
WS_MESSAGE_QUEUE_SIZE=100

# ============================================================================
# FILE UPLOAD SETTINGS
# ============================================================================
MAX_UPLOAD_SIZE=10485760
ALLOWED_EXTENSIONS=pdf,jpg,jpeg,png,doc,docx,xls,xlsx

# ============================================================================
# EMAIL CONFIGURATION (Optional)
# ============================================================================
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-email-password
SMTP_FROM=noreply@itechsmart.com
SMTP_TLS=true

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
# Prometheus
METRICS_ENABLED=true
METRICS_PORT=9090

# Grafana
GRAFANA_ENABLED=true
GRAFANA_PORT=3001
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin123_CHANGE_IN_PRODUCTION

# Logging
LOG_FORMAT=json
LOG_FILE=/var/log/itechsmart/app.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
# Backup Schedule (cron format)
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_DIR=/backups

# S3 Backup (Optional)
S3_BACKUP_ENABLED=false
S3_BACKUP_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1

# ============================================================================
# NOTIFICATION SETTINGS (Optional)
# ============================================================================
# Slack
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#alerts

# PagerDuty
PAGERDUTY_ENABLED=false
PAGERDUTY_API_KEY=your-pagerduty-api-key
PAGERDUTY_SERVICE_ID=your-service-id

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_AI_INSIGHTS=true
FEATURE_DRUG_CHECKER=true
FEATURE_WORKFLOWS=true
FEATURE_DECISION_SUPPORT=true
FEATURE_CARE_COORDINATION=true

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
# Worker Settings
WORKERS=4
WORKER_CLASS=uvicorn.workers.UvicornWorker
WORKER_TIMEOUT=120

# Cache Settings
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# ============================================================================
# DEVELOPMENT SETTINGS (Only for development)
# ============================================================================
# Set to true only in development
RELOAD=false
DEBUG_SQL=false
SHOW_ERROR_DETAILS=false

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================
VITE_API_URL=http://localhost:8000
VITE_WS_URL=ws://localhost:8000
VITE_APP_NAME=iTechSmart HL7
VITE_APP_VERSION=1.0.0

# ============================================================================
# KUBERNETES SPECIFIC (Only for K8s deployment)
# ============================================================================
K8S_NAMESPACE=itechsmart-hl7
K8S_SERVICE_ACCOUNT=itechsmart-sa
K8S_CLUSTER_NAME=itechsmart-cluster

# ============================================================================
# HEALTH CHECK CONFIGURATION
# ============================================================================
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# ============================================================================
# NOTES
# ============================================================================
# 1. NEVER commit this file with real credentials to version control
# 2. Use strong, unique passwords for all services
# 3. Rotate secrets regularly (every 90 days recommended)
# 4. Use environment-specific .env files (.env.dev, .env.staging, .env.prod)
# 5. Consider using a secrets manager (AWS Secrets Manager, HashiCorp Vault, etc.)
# 6. Minimum password length: 12 characters
# 7. Secret keys should be at least 32 characters
# 8. Enable MFA for all production accounts
# 9. Review and update this configuration regularly
# 10. Document any custom settings in your deployment guide